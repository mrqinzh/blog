webpackJsonp([3],{GET4:function(t,e){},SpWM:function(t,e){},ZwLw:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("HzJ8"),a=n.n(i),o=n("VsUZ"),s={components:{},data:function(){return{folded:!1}},methods:{handleSelect:function(t){this.$router.push(t)},lgout:function(){var t=this;this.$confirm("是否确定退出?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(e){"confirm"===e&&Object(o.b)("/login/logout").then(function(e){t.$message.success(e.data.body),localStorage.removeItem("token"),t.$router.replace({path:"/login"})})})},tabClick:function(t){console.log("tab",t),console.log("active",this.activeIndex),this.$router.push({path:this.activeIndex})},tabRemove:function(t){console.log("tabRemove",t),"/admin"!=t&&(this.$store.commit("delete_tabs",t),this.activeIndex===t&&(this.openTab&&this.openTab.length>=1?(console.log("=============",this.openTab[this.openTab.length-1].route),this.$store.commit("set_active_index",this.openTab[this.openTab.length-1].route),this.$router.push({path:this.activeIndex})):this.$router.push({path:"/admin"})))}},mounted:function(){"/admin/home"!==this.$route.path?(this.$store.commit("add_tabs",{route:"/admin/home",name:"首页"}),this.$store.commit("add_tabs",{route:this.$route.path,name:this.$route.name}),this.$store.commit("set_active_index",this.$route.path)):(this.$store.commit("add_tabs",{route:"/admin/home",name:"首页"}),this.$store.commit("set_active_index","/admin/home"),this.$router.push("/admin/home"))},computed:{openTab:function(){return this.$store.state.openTab},activeIndex:{get:function(){return this.$store.state.activeIndex},set:function(t){this.$store.commit("set_active_index",t)}}},watch:{$route:function(t,e){var n=!1,i=!0,o=!1,s=void 0;try{for(var l,c=a()(this.openTab);!(i=(l=c.next()).done);i=!0){var r=l.value;if(console.log("item.name",r.name),console.log("t0.name",t.name),r.name===t.name){console.log("to.path",t.path),this.$store.commit("set_active_index",t.path),n=!0;break}}}catch(t){o=!0,s=t}finally{try{!i&&c.return&&c.return()}finally{if(o)throw s}}n||(console.log("to.path",t.path),this.$store.commit("add_tabs",{route:t.path,name:t.name}),this.$store.commit("set_active_index",t.path))}}},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"admin"},[n("el-container",{staticClass:"ctner",class:{folded:t.folded}},[n("el-header",{staticClass:"header"},[n("span",{staticStyle:{float:"right",cursor:"pointer"}},[n("i",{staticClass:"el-icon-switch-button",on:{click:function(e){return t.lgout()}}})])]),t._v(" "),n("el-container",[n("el-aside",{staticClass:"left",attrs:{width:""}},[n("span",{staticClass:"btn_fold",on:{click:function(e){t.folded=!t.folded}}},[n("i",{class:t.folded?"el-icon-s-unfold":"el-icon-s-fold"})]),t._v(" "),n("el-menu",{attrs:{"background-color":"rgb(48, 65, 86)","text-color":"#fff","default-active":"1",collapse:t.folded},on:{select:t.handleSelect}},[n("el-menu-item",{attrs:{index:"/admin"}},[n("i",{staticClass:"el-icon-coffee-cup"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("首页")])]),t._v(" "),n("el-submenu",{attrs:{index:""}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-setting"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("系统管理")])]),t._v(" "),n("el-menu-item-group",{attrs:{title:"分组1"}},[n("el-menu-item",{attrs:{index:"/admin/user"}},[t._v("用户管理")]),t._v(" "),n("el-menu-item",{attrs:{index:"/admin/blog"}},[t._v("文章管理")])],1),t._v(" "),n("el-menu-item-group",{attrs:{title:"分组2"}},[n("el-menu-item",{attrs:{index:"/admin/comment"}},[t._v("评论管理")]),t._v(" "),n("el-menu-item",[t._v("分类管理")])],1)],2),t._v(" "),n("el-submenu",{attrs:{index:"1-4"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-menu"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("页面管理")])]),t._v(" "),n("el-menu-item",{attrs:{index:""}},[t._v("导航管理")])],2),t._v(" "),n("el-submenu",{attrs:{index:"2"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-document"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("文章管理")])]),t._v(" "),n("el-menu-item",{attrs:{index:"/admin/article/add"}},[t._v("写文章")])],2)],1)],1),t._v(" "),n("el-main",{staticClass:"main"},[t.openTab.length?n("el-tabs",{attrs:{type:"card",closable:""},on:{"tab-click":t.tabClick,"tab-remove":t.tabRemove},model:{value:t.activeIndex,callback:function(e){t.activeIndex=e},expression:"activeIndex"}},t._l(t.openTab,function(t,e){return n("el-tab-pane",{key:e,attrs:{label:t.name,name:t.route}})}),1):t._e(),t._v(" "),n("div",{staticClass:"admin-content"},[n("router-view")],1)],1)],1)],1)],1)},staticRenderFns:[]};var c=n("C7Lr")(s,l,!1,function(t){n("GET4"),n("SpWM")},null,null);e.default=c.exports}});
//# sourceMappingURL=3.212a956bae7564a788fd.js.map