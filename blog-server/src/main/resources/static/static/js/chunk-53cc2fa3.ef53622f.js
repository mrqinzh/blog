(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53cc2fa3"],{2423:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"e",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return s}));n("b4fb");var a=n("b775");function c(t){return Object(a["a"])({url:"/article/".concat(t),method:"delete"})}function i(t){return Object(a["a"])({url:"/article/update",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/article/add",method:"post",data:t})}function r(t){var e="/article/".concat(t);return Object(a["a"])({url:e,method:"get"})}function s(t,e,n){var c="/article/list?currentPage=".concat(t,"&pageSize=").concat(e,"&condition=").concat(n);return Object(a["a"])({url:c,method:"get"})}},a8f2:function(t,e,n){},b52e:function(t,e,n){"use strict";n("a8f2")},c556:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-row",[n("el-col",{attrs:{span:7}},[n("div",{staticClass:"grid-content bg-purple"},[n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",[t._v("首页")]),n("el-breadcrumb-item",[t._v("阅读")])],1)],1)]),n("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:10}},[n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"animate__animated animate__fadeIn"},[n("div",{staticStyle:{"font-size":"15px"}},[n("h1",{staticStyle:{"text-align":"center","font-size":"20px"}},[t._v(t._s(t.article.articleTitle))]),n("div",{staticStyle:{margin:"20px","text-align":"right"}},[n("a-tag",{attrs:{color:"原创"===t.article.articleType?"#87d068":"f50"}},[t._v(t._s(t.article.articleType))]),n("i",{staticClass:"el-icon-user"}),t._v(" "),n("span",[t._v(t._s(t.article.articleAuthor))]),t._v(" "),n("i",{staticClass:"el-icon-date"}),t._v(" "),n("span",[t._v(t._s(t.article.articleUpdateTime))])],1)]),n("div",{staticClass:"article-content",domProps:{innerHTML:t._s(t.content)}}),n("div",{staticClass:"page-comment"},[n("el-input",{attrs:{type:"textarea",placeholder:"请输入内容",maxlength:"100","show-word-limit":"",rows:5},model:{value:t.commentContent,callback:function(e){t.commentContent=e},expression:"commentContent"}}),n("el-button",{staticStyle:{margin:"20px 0 0 80%"},attrs:{type:"primary",icon:"el-icon-edit",size:"small"},on:{click:function(e){return t.addComment(0)}}},[t._v("发表评论")]),n("blockquote",[n("h2",[t._v("所有评论")])]),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading2,expression:"loading2"}]},t._l(t.comments,(function(e,a){return n("div",{key:a},[n("div",{staticStyle:{display:"inline-block"}},[n("el-avatar",{attrs:{src:e.user.userAvatar}}),n("span",{staticClass:"name-text"},[t._v(t._s(e.user.userNickname))]),n("span",{staticStyle:{"font-size":"12px","margin-left":"50px",color:"#909399"}},[t._v("评论时间： "+t._s(e.commentTime))])],1),n("div",{staticStyle:{color:"#303133"}},[n("i",{staticClass:"el-icon-chat-dot-round"}),t._v("："+t._s(e.commentContent)+". . . "),n("el-link",{attrs:{type:"primary",icon:"el-icon-edit",underline:!1},on:{click:function(e){t.flag=a}}},[t._v("回复")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.flag===a,expression:"flag===index"}],staticStyle:{margin:"20px"}},[n("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.replyContent,callback:function(e){t.replyContent=e},expression:"replyContent"}}),n("el-button",{staticStyle:{margin:"10px 0 0 85%"},on:{click:function(n){return t.addComment(e.id)}}},[t._v("确定")])],1),n("div",{staticClass:"child-comment"},[n("blockquote",t._l(e.comments,(function(e,a){return n("div",{key:a,staticStyle:{margin:"20px"}},[n("el-avatar",{attrs:{src:e.user.userAvatar}}),n("span",{staticClass:"name-text"},[t._v(t._s(e.user.userNickname))]),n("span",{staticStyle:{"font-size":"12px","margin-left":"50%"}},[t._v("评论时间： "+t._s(e.commentTime))]),n("p",[n("i",{staticClass:"el-icon-chat-dot-round"}),t._v("："+t._s(e.commentContent)+" ")])],1)})),0)])])})),0)],1)])])],1)],1)},c=[],i=(n("e35a"),n("0d7a"),n("b4fb"),n("5e9f"),n("2423")),o=n("b775");function r(t,e){var n="/comment/".concat(t,"/").concat(e);return Object(o["a"])({url:n,method:"get"})}function s(t){return Object(o["a"])({url:"/comment/add",method:"post",data:t})}var l=n("7094"),d=n.n(l),u=(n("70de"),n("9bc6")),m=n("ba96"),p=new u({html:!0,linkify:!0,typographer:!0,highlight:function(t,e){for(var n=parseInt(Date.now())+Math.floor(1e7*Math.random()),a='<el-button class="copy-btn" size="mini" data-clipboard-action="copy" data-clipboard-target="#copy'.concat(n,'" title="复制"><i class="el-icon-document-copy"></i></el-button>'),c=t.split(/\n/).length-1,i='<span aria-hidden="true" class="line-numbers-rows">',o=0;o<c;o++)i+="<span></span>";if(i+="</span>",e&&m.getLanguage(e))try{var r=m.highlight(e,t,!0).value;return a+=r,c&&(a+='<b class="name">'+e+"</b>"),'<pre class="hljs"><code>'.concat(a,"</code>").concat(i,'</pre><textarea style="position: absolute;top: -9999px;left: -9999px;z-index: -9999;" id="copy').concat(n,'">').concat(t.replace(/<\/textarea>/g,"&lt;/textarea>"),"</textarea>")}catch(l){console.log(l)}var s=p.utils.escapeHtml(t);return a+=s,'<pre class="hljs"><code>'.concat(a,"</code>").concat(i,'</pre><textarea style="position: absolute;top: -9999px;left: -9999px;z-index: -9999;" id="copy').concat(n,'">').concat(t.replace(/<\/textarea>/g,"&lt;/textarea>"),"</textarea>")}}),f={name:"Detail",data:function(){return{commentContent:"",replyContent:"",article:{},content:"",loading:!0,loading2:!1,comments:[],currentArticleId:"",flag:"",clipboard:""}},methods:{loadArticleInfo:function(){var t=this;Object(i["c"])(this.currentArticleId).then((function(e){t.content=p.render(e.data.articleContentMd),t.article=e.data,t.loading=!1}))},loadComments:function(){var t=this;r("articleId",this.currentArticleId).then((function(e){t.comments=e.data}))},addComment:function(t){var e=this,n="";if(0===t){if(""===this.commentContent)return void this.$message.warning("你评论了个寂寞 => `_`");n=this.commentContent}else{if(""===this.replyContent)return void this.$message.warning("你回复了个寂寞 => `_`");n=this.replyContent}var a={parentId:t,commentContent:n,articleId:this.currentArticleId};s(a).then((function(t){console.log(t),t.success&&e.loadComments(),e.$message.success(t.msg),e.flag=""}))},initImgClick:function(){for(var t=document.getElementsByTagName("img"),e=0;e<t.length;e++)t[e].setAttribute("onclick","clickEvent()")},clickEvent:function(){console.log("img click")}},mounted:function(){var t=this;this.currentArticleId=this.$route.params.articleId,this.loadArticleInfo(),this.loadComments(),this.initImgClick(),this.$nextTick((function(){t.clipboard=new d.a(".copy-btn"),t.clipboard.on("success",(function(e){t.$message.success("复制成功")})),t.clipboard.on("error",(function(e){t.$message.error("复制成功失败")}))}))},destroyed:function(){this.clipboard.destroy()}},v=f,g=(n("b52e"),n("cba8")),h=Object(g["a"])(v,a,c,!1,null,null,null);e["default"]=h.exports}}]);