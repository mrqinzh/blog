(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a4a4e954"],{"7c15":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return r}));var a=n("f753"),i=n.n(a),c="http://www.mrqinzh.info:9090",o=function(t,e){return i()({method:"post",url:"".concat(c).concat(t),data:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}})},r=function(t,e){return i()({method:"get",data:JSON.stringify(e),transformRequest:[function(t){var e="";for(var n in t)e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n])+"&";return e}],headers:{"Content-Type":"application/json; charset=UTF-8"},url:"".concat(c).concat(t)})}},a8f2:function(t,e,n){},b52e:function(t,e,n){"use strict";n("a8f2")},c556:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-row",[n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content bg-purple"},[n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",[t._v("首页")]),n("el-breadcrumb-item",[t._v("阅读")])],1)],1)]),n("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"animate__animated animate__fadeIn",staticStyle:{"margin-top":"30px"}},[n("div",{staticStyle:{"font-size":"15px"}},[n("h1",{staticStyle:{"text-align":"center","font-size":"20px"}},[t._v(t._s(t.article.articleTitle))]),n("div",{staticStyle:{margin:"20px","text-align":"right"}},[n("a-tag",{attrs:{color:"原创"===t.article.articleType?"#87d068":"f50"}},[t._v(t._s(t.article.articleType))]),n("i",{staticClass:"el-icon-user"}),t._v(" "),n("span",[t._v(t._s(t.article.articleAuthor))]),t._v(" "),n("i",{staticClass:"el-icon-date"}),t._v(" "),n("span",[t._v(t._s(t.article.articleUpdateTime))])],1)]),n("div",{staticClass:"article-content",domProps:{innerHTML:t._s(t.content)}}),n("div",{staticClass:"page-comment"},[n("el-input",{attrs:{type:"textarea",placeholder:"请输入内容",maxlength:"100","show-word-limit":"",rows:6},model:{value:t.commentContent,callback:function(e){t.commentContent=e},expression:"commentContent"}}),n("el-button",{staticStyle:{margin:"20px 0 0 80%"},attrs:{type:"primary",icon:"el-icon-edit",size:"small"},on:{click:function(e){return t.submitComment(0)}}},[t._v("发表评论")]),n("blockquote",[n("h2",{staticStyle:{padding:"0 0 0 20px"}},[t._v("所有评论")])]),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading2,expression:"loading2"}],staticStyle:{"line-height":"2em"}},t._l(t.parentComments,(function(e,a){return n("div",{key:a},[n("div",{staticStyle:{display:"inline-block"}},[n("el-avatar",{attrs:{src:e.user.userAvatar}}),n("span",{staticStyle:{"font-size":"19px","margin-left":"20px"}},[t._v(t._s(e.user.userName))]),n("span",{staticStyle:{"font-size":"17px","margin-left":"50px"}},[t._v("评论时间： "+t._s(e.commentTime))])],1),n("el-button",{staticStyle:{"margin-left":"50px"},attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(e){t.flag=a}}},[t._v("回复")]),n("p",{staticStyle:{"margin-left":"60px"}},[n("span",[t._v(t._s(e.commentContent))])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.flag===a,expression:"flag===index"}],staticStyle:{margin:"20px"}},[n("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.replyContent,callback:function(e){t.replyContent=e},expression:"replyContent"}}),n("el-button",{staticStyle:{margin:"10px 0 0 85%"},on:{click:function(n){return t.submitComment(e.id)}}},[t._v("确定")])],1),n("blockquote",{staticClass:"child_comment"},t._l(e.comments,(function(e,a){return n("div",{key:a,staticStyle:{margin:"20px"}},[n("div",{staticStyle:{display:"inline-block"}},[n("el-avatar",{attrs:{src:e.user.userAvatar}}),n("span",{staticStyle:{"font-size":"16px","margin-left":"20px"}},[t._v(t._s(e.user.nickname))])],1),n("span",{staticStyle:{"font-size":"13px","margin-left":"50%"}},[t._v("评论时间： "+t._s(e.commentTime))]),n("p",[t._v(t._s(e.commentContent))])])})),0)],1)})),0)],1)])])],1)],1)},i=[],c=(n("e35a"),n("0d7a"),n("b4fb"),n("5e9f"),n("7c15")),o=n("7094"),r=n.n(o),s=(n("70de"),n("9bc6")),l=n("ba96"),d=new s({html:!0,linkify:!0,typographer:!0,highlight:function(t,e){for(var n=parseInt(Date.now())+Math.floor(1e7*Math.random()),a='<el-button class="copy-btn" size="mini" data-clipboard-action="copy" data-clipboard-target="#copy'.concat(n,'" title="复制"><i class="el-icon-document-copy"></i></el-button>'),i=t.split(/\n/).length-1,c='<span aria-hidden="true" class="line-numbers-rows">',o=0;o<i;o++)c+="<span></span>";if(c+="</span>",e&&l.getLanguage(e))try{var r=l.highlight(e,t,!0).value;return a+=r,i&&(a+='<b class="name">'+e+"</b>"),'<pre class="hljs"><code>'.concat(a,"</code>").concat(c,'</pre><textarea style="position: absolute;top: -9999px;left: -9999px;z-index: -9999;" id="copy').concat(n,'">').concat(t.replace(/<\/textarea>/g,"&lt;/textarea>"),"</textarea>")}catch(m){console.log(m)}var s=d.utils.escapeHtml(t);return a+=s,'<pre class="hljs"><code>'.concat(a,"</code>").concat(c,'</pre><textarea style="position: absolute;top: -9999px;left: -9999px;z-index: -9999;" id="copy').concat(n,'">').concat(t.replace(/<\/textarea>/g,"&lt;/textarea>"),"</textarea>")}}),m={name:"details",data:function(){return{commentContent:"",replyContent:"",article:{},content:"",loading:!0,loading2:!1,parentComments:[],currentArticleId:"",flag:"",isLogin:!1,clipboard:""}},methods:{loadArticleInfo:function(){var t=this;Object(c["a"])("/article/".concat(this.currentArticleId)).then((function(e){t.content=d.render("".concat(e.data.data.articleContentMd)),t.article=e.data.data,t.loading=!1}))},loadComments:function(){var t=this;Object(c["a"])("/comment/articleId/".concat(this.currentArticleId)).then((function(e){t.parentComments=e.data.data}))},submitComment:function(t){var e=this,n="";if(0===t){if(""===this.commentContent)return void this.$message.warning("你评论了个寂寞 => `_`");n=this.commentContent}else{if(""===this.replyContent)return void this.$message.warning("你评论了个寂寞 => `_`");n=this.replyContent}this.loading2=!0,Object(c["b"])("/comment/add",{comment_content:n,comment_time:Date.parse(new Date),article_id:this.currentArticleId,parent_id:t}).then((function(t){"200"===t.data.code?(e.loadComments(),e.commentContent="",e.$message.success("评论成功 => ^_^")):e.$message.warning("服务器出错了 => -_-。"),e.loading2=!1}))},updateViews:function(){Object(c["b"])("/article/views/".concat(this.currentArticleId)).then((function(t){}))}},mounted:function(){var t=this;this.currentArticleId=this.$route.query.articleId,this.loadArticleInfo(),this.loadComments(),this.updateViews(),this.$nextTick((function(){t.clipboard=new r.a(".copy-btn"),t.clipboard.on("success",(function(e){t.$message.success("复制成功")})),t.clipboard.on("error",(function(e){t.$message.error("复制成功失败")}))}))},destroyed:function(){this.clipboard.destroy()}},p=m,u=(n("b52e"),n("cba8")),f=Object(u["a"])(p,a,i,!1,null,null,null);e["default"]=f.exports}}]);